pipeline {
  agent any

  stages {
    stage('Clone Code') {
      steps {
        git branch: 'main', url: 'https://github.com/<your-github-username>/static-website-project.git'
      }
    }

    stage('Deploy to EC2') {
      steps {
        sshagent(credentials: ['ec2-key']) {
          sh '''
          ssh -o StrictHostKeyChecking=no ec2-user@<EC2_PUBLIC_IP> "
            cd /var/www/html
            sudo git pull
            sudo systemctl restart nginx
          "
          '''
        }
      }
    }
  }
}
